/*! For license information please see main.8174e841.chunk.js.LICENSE.txt */
(this["webpackJsonp@grab-be/frontend"]=this["webpackJsonp@grab-be/frontend"]||[]).push([[5],{108:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return toJsonRemoveDefaultsConfig}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_grab_be_common_class_MixinDefaultClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(199);const toJsonRemoveDefaultsConfig={enable:!0};__webpack_exports__.a=function(){let base=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_grab_be_common_class_MixinDefaultClass__WEBPACK_IMPORTED_MODULE_1__.a;return class extends base{constructor(){super(...arguments),this[Symbol.for("jsonStripDefaults")]=!0}getDefaultClassInstance(){return new this.constructor}toJSON(){const baseInstance=this.getDefaultClassInstance();return toJsonRemoveDefaultsConfig.enable&&this[Symbol.for("jsonStripDefaults")]?Object.fromEntries(Object.entries(this).filter(_ref=>{let _ref2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,2),key=_ref2[0],value=_ref2[1];return!(key in baseInstance)||baseInstance[key]!==value})):this}}}},110:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useContext})),__webpack_require__.d(__webpack_exports__,"b",(function(){return setContext})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getContext}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),src_base_createSingleton__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59),_grab_be_config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),_twitchExt__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24),_hooks_useConfig__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(69);const initValue={preInit:!0,theme:"",usersTheme:"",hlsLatencyBroadcaster:0,bufferSize:0},_createSingleton=Object(src_base_createSingleton__WEBPACK_IMPORTED_MODULE_1__.a)(()=>initValue),_createSingleton2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_createSingleton,4),useContext=_createSingleton2[0],setContext=_createSingleton2[1],getContext=(_createSingleton2[2],_createSingleton2[3]);_grab_be_config__WEBPACK_IMPORTED_MODULE_2__.a.onInit(()=>{_twitchExt__WEBPACK_IMPORTED_MODULE_4__.a.onContext(context=>{context.usersTheme=context.theme,context.theme=Object(_hooks_useConfig__WEBPACK_IMPORTED_MODULE_5__.b)("overrideTheme")||context.theme,_logger__WEBPACK_IMPORTED_MODULE_3__.a.silly("onContext:",context),setContext(context)})})},111:function(module,__webpack_exports__,__webpack_require__){"use strict";var lz_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(144),lz_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lz_string__WEBPACK_IMPORTED_MODULE_0__);const httpLzString={directive:"httpLzString",serverResolver:(selection,data)=>lz_string__WEBPACK_IMPORTED_MODULE_0___default.a.compress(JSON.stringify(data)),clientResolver:(selection,data)=>JSON.parse(lz_string__WEBPACK_IMPORTED_MODULE_0___default.a.decompress(data))};__webpack_exports__.a=httpLzString},112:function(module,__webpack_exports__,__webpack_require__){"use strict";var graphql_crunch__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(145),graphql_crunch__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(graphql_crunch__WEBPACK_IMPORTED_MODULE_0__);const httpCrunch={directive:"httpCrunch",serverResolver:(selection,data)=>graphql_crunch__WEBPACK_IMPORTED_MODULE_0___default.a.crunch(data),clientResolver:(selection,data)=>graphql_crunch__WEBPACK_IMPORTED_MODULE_0___default.a.uncrunch(data)};__webpack_exports__.a=httpCrunch},113:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return setServerDateTime}));var _grab_be_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21);let lastServerTime=new Date,timeDesyncMs=0;const setServerDateTime=serverTime=>{lastServerTime=new Date(serverTime),timeDesyncMs=lastServerTime.getTime()-(new Date).getTime(),_grab_be_logger__WEBPACK_IMPORTED_MODULE_0__.b.silly("Synced Time:",{lastServerTime:lastServerTime,now:new Date,timeDesyncMs:timeDesyncMs})}},120:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11);__webpack_exports__.a=function objectToShortString(){let obj=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},maxLength=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,maxKeyLength=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const keyLength=maxKeyLength||Math.max(Math.floor(maxLength/5),20);let shortVals;return shortVals=Array.isArray(obj)?obj.map(v=>objectToShortString(v,keyLength)).join(","):obj&&"object"==typeof obj?Object.entries(obj).filter(_ref=>void 0!==Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,2)[1]).reduce((short,_ref3)=>{let _ref4=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_ref3,2),key=_ref4[0],val=_ref4[1];return short.concat(`${key}:${objectToShortString(val,keyLength)}`)},[]).join(",").replace(/\[object (.*?)]/g,"[$1]"):""+obj,shortVals.length<=maxLength?shortVals:shortVals.substr(0,maxLength-3)+"..."}},123:function(module){module.exports=JSON.parse('{"name":"@grab-be/frontend","version":"1.0.0","private":true,"homepage":"","scripts":{"start":"yarn react-app-rewired start","test":"yarn react-app-rewired test","clean":"yarn build-react clean","build":"yarn do buildSystem build","_build":"yarn node ./scripts/build.js","buildDevelopment":"yarn build -- --development","deploy":"yarn build-react deploy","eject":"yarn react-scripts eject","storybook":"yarn start-storybook -p 6006 -s public","buildStorybook":"NODE_ENV=development yarn build-storybook -s public"},"browserslist":{"production":["and_chr >= 52","and_ff >= 52","ios_saf >= 10.1","chrome >= 52","opera >= 39","edge >= 14","firefox >= 52","safari >= 10.1","samsung >= 6","electron >= 1.3","not < 0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version",">0.3%","not ie 11","not dead","not op_mini all"]},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"src/**/*.{js,jsx,ts,tsx,json,css,scss,md}":"prettier --write","src/**/*.{js,jsx,ts,tsx}":"eslint --fix"},"dependencies":{"@apollo/client":"^3.3.6","@babel/plugin-proposal-class-properties":"^7.12.1","@babel/plugin-proposal-optional-chaining":"^7.12.7","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/preset-env":"^7.12.11","@babel/preset-react":"^7.12.10","@grab-be/common":"^1.0.0","@grab-be/config":"^1.0.0","@grab-be/logger":"^1.0.0","@grab-be/schemas":"^1.0.0","@graphql-tools/merge":"^6.2.7","@graphql-tools/schema":"7.1.2","@mdx-js/react":"^1.6.22","@storybook/addon-docs":"^6.1.11","@storybook/addon-viewport":"^6.1.11","@testing-library/jest-dom":"^5.11.6","apollo-link-error":"^1.1.13","apollo-link-persisted-queries":"^0.2.2","apollo-link-schema":"^1.2.5","apollo-mocked-provider":"^5.0.0","awesome-qr":"^2.1.4-rc.0","chalk":"^4.1.2","chokidar":"^3.5.1","copy-to-clipboard":"^3.3.1","deepmerge":"^4.2.2","eslint-import-resolver-node":"^0.3.4","fs-extra":"^9.0.1","glob":"^7.1.6","graphql":"15.5.0","graphql-tools":"^7.0.2","he":"^1.2.0","html-minifier":"^4.0.0","local-storage":"^2.0.0","moment":"^2.29.1","postcss-normalize":"^9.0.0","prop-types":"^15.7.2","query-string":"^6.13.7","react":"^17.0.1","react-autolinker-wrapper":"^1.3.0","react-beautiful-dnd":"^13.1.0","react-dev-utils":"^11.0.1","react-dom":"^17.0.1","react-draggable":"^4.4.4","react-icons":"^4.3.1","react-intl":"^5.10.16","react-json-view":"^1.21.3","react-player":"^2.7.2","react-router-dom":"^5.2.0","react-scripts":"^4.0.1","react-scrollbars-custom":"^4.0.25","react-spring":"^9.3.0","sass":"^1.42.1","src":"link:./src","use-http":"^1.0.16","webpack-filter-warnings-plugin":"^1.2.1","winston-transport-browserconsole":"^1.0.5"},"devDependencies":{"@babel/core":"^7.12.10","@babel/runtime":"^7.12.5","@grab-be/tooling":"workspace:packages/tooling","@storybook/addon-actions":"^6.1.11","@storybook/addon-essentials":"^6.1.11","@storybook/addon-links":"^6.1.11","@storybook/node-logger":"^6.1.11","@storybook/preset-create-react-app":"^3.1.5","@storybook/react":"^6.1.11","babel-eslint":"^10.1.0","babel-loader":"^8.2.2","babel-preset-airbnb":"^5.0.0","dependency-tree":"^8.1.2","dotenv":"^8.2.0","eslint":"^7.16.0","eslint-config-airbnb-base":"^14.2.1","eslint-config-prettier":"^7.1.0","eslint-plugin-import":"^2.22.1","eslint-plugin-prettier":"^3.3.0","react-app-rewired":"^2.1.8","react-is":"^17.0.1","webpack":"^5.12.1"}}')},139:function(module,__webpack_exports__,__webpack_require__){"use strict";var _conversion__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87);const json={replacer:(key,value)=>_conversion__WEBPACK_IMPORTED_MODULE_0__.b.isBigInt(value)?_conversion__WEBPACK_IMPORTED_MODULE_0__.b.bigIntToArray(value):value,reviver:(key,value)=>_conversion__WEBPACK_IMPORTED_MODULE_0__.b.isBigIntArray(value)?_conversion__WEBPACK_IMPORTED_MODULE_0__.b.bigIntFromArray(value):value,stringify:value=>JSON.parse(JSON.stringify(BigInt(value),json.replacer)),parse:value=>JSON.parse(JSON.stringify(value,json.replacer),json.reviver)};__webpack_exports__.a=json},142:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__(7),_apollo_client=__webpack_require__(33),react=__webpack_require__(5),external_=__webpack_require__(46),external_default=__webpack_require__.n(external_),ws=__webpack_require__(227),utilities=__webpack_require__(2),link_context=__webpack_require__(230),src=__webpack_require__(9),lib=__webpack_require__(233),authDataHook=__webpack_require__(47),syncedTime=__webpack_require__(113),slicedToArray=__webpack_require__(11);var httpDirectives_walkQuery=function walkQuery(selection,data){var _selection$selectionS;let fcn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v=>v,rtn=data;return Array.isArray(data)?rtn=data.map(i=>walkQuery(selection,i,fcn)):data&&(null==selection||null===(_selection$selectionS=selection.selectionSet)||void 0===_selection$selectionS?void 0:_selection$selectionS.selections)&&"object"==typeof data&&(rtn=selection.selectionSet.selections.reduce((newObj,field)=>{var _field$alias,_field$name;const selectionName=(null===(_field$alias=field.alias)||void 0===_field$alias?void 0:_field$alias.value)||(null===(_field$name=field.name)||void 0===_field$name?void 0:_field$name.value);let preProcessed=!1,oldData=data[selectionName];oldData&&"object"==typeof oldData&&(preProcessed=!0,oldData=walkQuery(field,oldData,fcn));let _ref=fcn([selectionName,oldData],{selection:selection,field:field,data:data})||[],_ref2=Object(slicedToArray.a)(_ref,2),newKey=_ref2[0],newValue=_ref2[1];return!preProcessed&&newValue&&"object"==typeof newValue&&(newValue=walkQuery(field,newValue,fcn)),null==newKey?newObj:Object(objectSpread2.a)(Object(objectSpread2.a)({},newObj),{},{[newKey]:newValue})},{})),rtn};var httpDirectives_httpRemoveEmpty={directive:"httpRemoveEmpty",serverResolver:(selection,data)=>httpDirectives_walkQuery(selection,data,_ref=>{let _ref2=Object(slicedToArray.a)(_ref,2),key=_ref2[0],value=_ref2[1];return(value=>null==value)(value)?void 0:[key,value]}),clientResolver:(selection,data)=>httpDirectives_walkQuery(selection,data,_ref3=>{let _ref4=Object(slicedToArray.a)(_ref3,2),key=_ref4[0],value=_ref4[1];return[key,void 0===value?null:value]})};var httpDirectives_httpIndexFieldNames={directive:"httpIndexFieldNames",serverResolver:(rootSelection,rootData)=>httpDirectives_walkQuery(rootSelection,rootData,(_ref,_ref2)=>{let _ref3=Object(slicedToArray.a)(_ref,2),key=_ref3[0],value=_ref3[1],selection=_ref2.selection,field=_ref2.field;if(key in _ref2.data)return[selection.selectionSet.selections.indexOf(field),value]}),clientResolver:(rootSelection,rootData)=>httpDirectives_walkQuery(rootSelection,rootData,(_ref4,_ref5)=>{let key=Object(slicedToArray.a)(_ref4,1)[0],selection=_ref5.selection,field=_ref5.field;const newData=_ref5.data[selection.selectionSet.selections.indexOf(field)];return void 0===newData?void 0:[key,newData]})},httpCrunch=__webpack_require__(112),httpLzString=__webpack_require__(111);const httpDirectives=[httpDirectives_httpRemoveEmpty,httpDirectives_httpIndexFieldNames,httpCrunch.a,httpLzString.a];var json=__webpack_require__(86);class HttpDirectivesLink_HttpDirectivesLink extends _apollo_client.ApolloLink{constructor(){super((operation,forward)=>(Object.entries(operation.variables||{}).forEach(_ref=>{let _ref2=Object(slicedToArray.a)(_ref,2),k=_ref2[0],v=_ref2[1];"object"!=typeof v&&"bigint"!=typeof v||(operation.variables[k]=JSON.parse(json.a.stringify(v)))}),forward(operation).map(response=>{var _ref3,_ref3$definitions,_ref3$definitions$,_ref3$definitions$$se;return((null===(_ref3=operation.query||operation.mutation)||void 0===_ref3||null===(_ref3$definitions=_ref3.definitions)||void 0===_ref3$definitions||null===(_ref3$definitions$=_ref3$definitions[0])||void 0===_ref3$definitions$||null===(_ref3$definitions$$se=_ref3$definitions$.selectionSet)||void 0===_ref3$definitions$$se?void 0:_ref3$definitions$$se.selections)||[]).forEach(selection=>{var _selection$alias,_selection$name,_response$data;const dataName=(null===(_selection$alias=selection.alias)||void 0===_selection$alias?void 0:_selection$alias.value)||(null===(_selection$name=selection.name)||void 0===_selection$name?void 0:_selection$name.value);(null===(_response$data=response.data)||void 0===_response$data?void 0:_response$data[dataName])&&(response.data[dataName]=((selection,initialData)=>{const _selection$directives2=selection.directives,directives=void 0===_selection$directives2?[]:_selection$directives2;return httpDirectives.reduceRight((data,directive)=>directive.clientResolver&&directives.find(d=>d.name.value===directive.directive)?directive.clientResolver(selection,data):data,initialData)})(selection,response.data[dataName]))}),json.a.parse(JSON.stringify(response))})))}}var graphql_HttpDirectivesLink=HttpDirectivesLink_HttpDirectivesLink,logger_src=__webpack_require__(21),objectToShortString=__webpack_require__(120);const logger=logger_src.b.annotate("apolloClient");class LoggingLink_LoggingLink extends _apollo_client.ApolloLink{constructor(){super((operation,forward)=>forward(operation).map(response=>(this.log(operation,response),response)))}log(operation,response){var _response$errors,_response$data,_response$errors2;const errorCount=(null===(_response$errors=response.errors)||void 0===_response$errors?void 0:_response$errors.length)||0,successCount=Object.keys(null!==(_response$data=response.data)&&void 0!==_response$data?_response$data:{}).length-errorCount,operationShort=`${operation.operationName}(${Object(objectToShortString.a)(operation.variables)})=>${errorCount}:${successCount}`;(null===(_response$errors2=response.errors)||void 0===_response$errors2?void 0:_response$errors2.length)>0&&response.errors.forEach(e=>{logger.error(e)}),logger.silly("response",operationShort)}}var graphql_LoggingLink=LoggingLink_LoggingLink,regenerator=__webpack_require__(12),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(22);class InitLinkOnUse_InitLinkOnUse extends _apollo_client.ApolloLink{constructor(createClass){super(),this.createInstancePromise=void 0,this.createClass=createClass}request(operation,forward){var _this=this;return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var instance;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this.createInstancePromise||(_this.createInstancePromise=_this.createClass()),_context.next=3,_this.createInstancePromise;case 3:return instance=_context.sent,_context.abrupt("return",instance.request(operation,forward));case 5:case"end":return _context.stop()}}),_callee)})))()}}var graphql_InitLinkOnUse=InitLinkOnUse_InitLinkOnUse;let grabApolloClient=null;var base_graphql={getApolloClient:function(){var _props$typePolicies;let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(grabApolloClient)return grabApolloClient;const authLink=Object(link_context.a)((_,_ref)=>{let headers=_ref.headers;const token=Object(authDataHook.getAuth)().token;return{headers:Object(objectSpread2.a)(Object(objectSpread2.a)({},headers),{},{authorization:token?"Bearer "+token:""})}}),headerLink=new _apollo_client.ApolloLink((operation,forward)=>forward(operation).map(response=>{const headers=operation.getContext().response.headers;if(headers){const serverNow=headers.get("Date")||headers.get("serverNow");serverNow&&Object(syncedTime.a)(serverNow)}return response})),httpLink=(Object(lib.a)({useGETForHashedQueries:!0}),authLink.concat(new graphql_LoggingLink).concat(new graphql_HttpDirectivesLink).concat(headerLink).concat(Object(_apollo_client.createHttpLink)({uri:src.a.get("graphql.serverUrl")}))),graphQlLink=Object(_apollo_client.split)(_ref2=>{let query=_ref2.query;const definition=Object(utilities.q)(query);return"OperationDefinition"===definition.kind&&"subscription"===definition.operation},new graphql_InitLinkOnUse(()=>{var _getAuth2;return new ws.a({uri:src.a.get("graphql.serverUrl").replace(/http(s?):/,"ws$1:"),options:{reconnect:!0,connectionParams:{authorization:null===(_getAuth2=Object(authDataHook.getAuth)())||void 0===_getAuth2?void 0:_getAuth2.token}}})}),httpLink);return grabApolloClient=new _apollo_client.ApolloClient(Object(objectSpread2.a)({link:graphQlLink,cache:new _apollo_client.InMemoryCache({dataIdFromObject:object=>{var _props$dataIdFromObje,_props$dataIdFromObje2;return null!==(_props$dataIdFromObje=null==props||null===(_props$dataIdFromObje2=props.dataIdFromObject)||void 0===_props$dataIdFromObje2?void 0:_props$dataIdFromObje2.call(props,object))&&void 0!==_props$dataIdFromObje?_props$dataIdFromObje:Object(_apollo_client.defaultDataIdFromObject)(object)},typePolicies:null!==(_props$typePolicies=null==props?void 0:props.typePolicies)&&void 0!==_props$typePolicies?_props$typePolicies:{}})},props)),grabApolloClient}},isMockEnabled=__webpack_require__(212),jsx_runtime=__webpack_require__(8);__webpack_exports__.a=props=>{const client=Object(react.useRef)((null==base_graphql?void 0:base_graphql.getApolloClient)&&base_graphql.getApolloClient({typePolicies:{Team:{keyFields:!1}}}));return Object(isMockEnabled.a)()?Object(jsx_runtime.jsx)(external_default.a,Object(objectSpread2.a)({},props)):Object(jsx_runtime.jsx)(_apollo_client.ApolloProvider,Object(objectSpread2.a)({client:client.current},props))}},143:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=["magenta","cyan","blue","green","red"]},146:function(module,exports,__webpack_require__){module.exports={values:"'../../values.module.css'","base-padding":"1em","base-item-spacing":"0.5em","font-size-larger":"1.25em","light-inverse-color":"#f7f7f8","light-border-color":"#151515","light-veil-color":"#00000099","dark-inverse-color":"#0e0e10","dark-border-color":"#f6f6f6","dark-veil-color":"#ffffff55",overlay:"overlay_overlay__3AsIk",closeOverlay:"overlay_closeOverlay__olu11"}},147:function(module,exports,__webpack_require__){module.exports={errorBoundary:"styles_errorBoundary__3EIpL",hideProduction:"styles_hideProduction__xuITj"}},151:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_utils_getClassNameFromArray__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),__webpack_require__(42)),_index_module_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64),_index_module_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_index_module_css__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);__webpack_exports__.a=props=>{const className=props.className,passProps=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(props,["className"]),classNames=Object(react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>Object(_utils_getClassNameFromArray__WEBPACK_IMPORTED_MODULE_3__.a)([_index_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.header,(null==props?void 0:props.onClick)&&_index_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.clickable,className]),[className,null==props?void 0:props.onClick]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("header",Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},passProps),{},{className:classNames,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{children:props.children})}))}},154:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){function copyBuffer(cur){return cur instanceof Buffer?Buffer.from(cur):new cur.constructor(cur.buffer.slice(),cur.byteOffset,cur.length)}__webpack_exports__.a=function(opts){function cloneArray(a,fn){const keys=Object.keys(a),a2=new Array(keys.length);for(let i=0;i<keys.length;i+=1){const k=keys[i],cur=a[k];"object"!=typeof cur||null===cur?a2[k]=cur:cur instanceof Date?a2[k]=new Date(cur):ArrayBuffer.isView(cur)?a2[k]=copyBuffer(cur):a2[k]=fn(cur)}return a2}return(opts=opts||{}).circles?function(opts){const refs=[],refsNew=[];function cloneArray(a,fn){const keys=Object.keys(a),a2=new Array(keys.length);for(let i=0;i<keys.length;i+=1){const k=keys[i],cur=a[k];if("object"!=typeof cur||null===cur)a2[k]=cur;else if(cur instanceof Date)a2[k]=new Date(cur);else if(ArrayBuffer.isView(cur))a2[k]=copyBuffer(cur);else{const index=refs.indexOf(cur);a2[k]=-1!==index?refsNew[index]:fn(cur)}}return a2}return opts.proto?function cloneObjProto(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return cloneArray(o,cloneObjProto);const o2={};refs.push(o),refsNew.push(o2);for(const k in o){const cur=o[k];if("object"!=typeof cur||null===cur)o2[k]=cur;else if(cur instanceof Date)o2[k]=new Date(cur);else if(ArrayBuffer.isView(cur))o2[k]=copyBuffer(cur);else{const i=refs.indexOf(cur);o2[k]=-1!==i?refsNew[i]:cloneObjProto(cur)}}return refs.pop(),refsNew.pop(),o2}:function cloneObj(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return cloneArray(o,cloneObj);const o2={};refs.push(o),refsNew.push(o2);for(const k in o){if(!1===Object.hasOwnProperty.call(o,k))continue;const cur=o[k];if("object"!=typeof cur||null===cur)o2[k]=cur;else if(cur instanceof Date)o2[k]=new Date(cur);else if(ArrayBuffer.isView(cur))o2[k]=copyBuffer(cur);else{const i=refs.indexOf(cur);o2[k]=-1!==i?refsNew[i]:cloneObj(cur)}}return refs.pop(),refsNew.pop(),o2}}(opts):opts.proto?function cloneObjProto(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return cloneArray(o,cloneObjProto);const o2={};for(const k in o){const cur=o[k];"object"!=typeof cur||null===cur?o2[k]=cur:cur instanceof Date?o2[k]=new Date(cur):ArrayBuffer.isView(cur)?o2[k]=copyBuffer(cur):o2[k]=cloneObjProto(cur)}return o2}:function cloneObj(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return cloneArray(o,cloneObj);const o2={};for(const k in o){if(!1===Object.hasOwnProperty.call(o,k))continue;const cur=o[k];"object"!=typeof cur||null===cur?o2[k]=cur:cur instanceof Date?o2[k]=new Date(cur):ArrayBuffer.isView(cur)?o2[k]=copyBuffer(cur):o2[k]=cloneObj(cur)}return o2}}({circles:!0})}).call(this,__webpack_require__(29).Buffer)},155:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_panel__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),__webpack_require__(96)),_view__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(37),_index_module_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(146),_index_module_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_index_module_css__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);__webpack_exports__.a=props=>{const _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(props.show),_useState2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),show=_useState2[0],setShow=_useState2[1];Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{setShow(props.show)},[props.show]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:show&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_view__WEBPACK_IMPORTED_MODULE_3__.a,{className:_index_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.overlay,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:_index_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.closeOverlay,onClick:()=>{var _props$onClose;setShow(!1),null===(_props$onClose=props.onClose)||void 0===_props$onClose||_props$onClose.call(props)},children:"X"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_panel__WEBPACK_IMPORTED_MODULE_2__.c,{children:props.children})]})})}},156:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_utils_getClassNameFromArray__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),__webpack_require__(42)),_index_module_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64),_index_module_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_index_module_css__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);__webpack_exports__.a=props=>{const className=props.className,passProps=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(props,["className"]),classNames=Object(react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>Object(_utils_getClassNameFromArray__WEBPACK_IMPORTED_MODULE_3__.a)([_index_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.footer,className]),[className]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("footer",Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},passProps),{},{className:classNames,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:props.children})}))}},199:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=class{}},20:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return TWITCH_ANCHOR})),__webpack_require__.d(__webpack_exports__,"f",(function(){return TWITCH_MESSAGE_TYPE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return TWITCH_CONFIG_THEME})),__webpack_require__.d(__webpack_exports__,"d",(function(){return TWITCH_CONFIG_THEME_META_MAP})),__webpack_require__.d(__webpack_exports__,"e",(function(){return TWITCH_CONFIG_TYPE})),__webpack_require__.d(__webpack_exports__,"a",(function(){return EVENT_NAMES}));const TWITCH_ANCHOR={COMPONENT:"component",MOBILE:"mobile",PANEL:"panel",VIDEO_OVERLAY:"video_overlay"},TWITCH_MESSAGE_TYPE={BROADCAST:"broadcast",GLOBAL:"global",WHISPER:"whisper"},TWITCH_CONFIG_THEME={AUTO:"",LIGHT:"light",DARK:"dark"},TWITCH_CONFIG_THEME_META_MAP={[TWITCH_CONFIG_THEME.AUTO]:{label:"Auto (Recommended)",description:"Automatically match viewers' Dark or Light setting"},[TWITCH_CONFIG_THEME.LIGHT]:{label:"Light",description:"Always use Light theme"},[TWITCH_CONFIG_THEME.DARK]:{label:"Dark",description:"Always use Dark theme"}},TWITCH_CONFIG_TYPE={DEVELOPER:"DEVELOPER",GLOBAL:"global",BROADCASTER:"broadcaster"},EVENT_NAMES={UPDATE_TWITCH_CONFIGURATION:"updateTwitchConfiguration"}},21:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"c",(function(){return setLevel})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addGoogleAnalyticsTransport}));var _process,_process$release,winston__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48),winston__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(winston__WEBPACK_IMPORTED_MODULE_0__),path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(137),chalk__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__),__webpack_require__(66)),chalk__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(chalk__WEBPACK_IMPORTED_MODULE_2__),_annotate__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(61),__webpack_require__(217)),_transports_nodeConsole__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(46),_transports_nodeConsole__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_transports_nodeConsole__WEBPACK_IMPORTED_MODULE_5__),_transports_browserConsole__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(218),_transports_googleAnalytics__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(221),_levels__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(222),__webpack_require__(57));const IS_NODE_ENV=(null===(_process=process)||void 0===_process||null===(_process$release=_process.release)||void 0===_process$release?void 0:_process$release.name)&&-1!==process.release.name.search(/node|io.js/),logger=winston__WEBPACK_IMPORTED_MODULE_0___default.a.createLogger({levels:_levels__WEBPACK_IMPORTED_MODULE_9__.a,level:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,CONFIG_FILE:"/etc/gitlab-runner/config.toml",PROJECT:"twitter",CONTEXT:"prod"}).LOG_LEVEL||"info",transports:[IS_NODE_ENV?_transports_nodeConsole__WEBPACK_IMPORTED_MODULE_5___default()(IS_NODE_ENV&&chalk__WEBPACK_IMPORTED_MODULE_2___default.a.supportsColor):Object(_transports_browserConsole__WEBPACK_IMPORTED_MODULE_6__.a)()]}),origLog=logger.log;logger.log=function(){for(var _args$,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_levels__WEBPACK_IMPORTED_MODULE_9__.a[args[0]]||(null===(_args$=args[0])||void 0===_args$?void 0:_args$.level)||args.unshift("info"),origLog.call(logger,...args)},logger.annotate=prefix=>Object(_annotate__WEBPACK_IMPORTED_MODULE_4__.a)(logger,prefix);const setLevel=newLogLevel=>{const prevLevel=logger.level;return logger.level=_levels__WEBPACK_IMPORTED_MODULE_9__.a[newLogLevel]?newLogLevel:Object.keys(_levels__WEBPACK_IMPORTED_MODULE_9__.a).find(key=>_levels__WEBPACK_IMPORTED_MODULE_9__.a[key]===newLogLevel),logger.transports.forEach(transport=>{transport.level&&transport.level!==prevLevel||(transport.level=logger.level)}),logger.level},addGoogleAnalyticsTransport=function(){let level=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"warn";IS_NODE_ENV?console.error("googleAnalyticsTransport not yet supported for node"):logger.add(Object(_transports_googleAnalytics__WEBPACK_IMPORTED_MODULE_7__.a)(level))};__webpack_exports__.b=logger}).call(this,__webpack_require__(19))},212:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(9);__webpack_exports__.a=()=>!1},217:function(module,__webpack_exports__,__webpack_require__){"use strict";const annotators={},_annotate=(logger,prefix)=>{if(!annotators[prefix]){const displayPrefix=`[[${prefix}]]`;annotators[prefix]={annotate:postFix=>_annotate(logger,`${prefix}:${postFix}`)},["log"].concat(Object.keys(logger.levels)).forEach(level=>{annotators[prefix][level]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _args$;"log"===level?(null===(_args$=args[0])||void 0===_args$?void 0:_args$.level)?args[0].message=`${displayPrefix} ${args[0].message}`:logger.levels[args[0]]?args.splice(1,0,displayPrefix):args.unshift(displayPrefix):args.unshift(displayPrefix);return logger[level](...args)}})}return annotators[prefix]};__webpack_exports__.a=_annotate},218:function(module,__webpack_exports__,__webpack_require__){"use strict";var winston__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48),_BrowserConsole__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__.n(winston__WEBPACK_IMPORTED_MODULE_0__),__webpack_require__(219));const stripDoubleBrackets=winston__WEBPACK_IMPORTED_MODULE_0__.format(logData=>(logData.message&&"string"==typeof logData.message&&(logData.message=logData.message.replace(/^\[(\[.*?])]/,"$1")),logData));__webpack_exports__.a=()=>new _BrowserConsole__WEBPACK_IMPORTED_MODULE_1__.a({format:winston__WEBPACK_IMPORTED_MODULE_0__.format.combine(stripDoubleBrackets(),winston__WEBPACK_IMPORTED_MODULE_0__.format.simple())})},219:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){__webpack_require__.d(__webpack_exports__,"a",(function(){return BrowserConsole}));var winston_transport__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45),winston_transport__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(winston_transport__WEBPACK_IMPORTED_MODULE_0__),_annotateColors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(143),_hashCode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(220);const Level={};var lvl;(lvl=Level)[lvl.error=0]="error",lvl[lvl.warn=1]="warn",lvl[lvl.info=2]="info",lvl[lvl.debug=4]="debug",lvl[lvl.debug=5]="debug";class BrowserConsole extends winston_transport__WEBPACK_IMPORTED_MODULE_0___default.a{constructor(opts){super(opts),this.methods={silly:"debug",debug:"debug",error:"error",info:"info",warn:"warn"},opts&&opts.level&&Level.hasOwnProperty(opts.level)&&(this.level=opts.level)}log(logEntry,next){setImmediate(()=>{this.emit("logged",logEntry)});const level=logEntry.level;let message=logEntry.message;const mappedMethod=this.methods[level];let splat=logEntry[Symbol.for("splat")]||[];if(message.match(/^\[.*?]/)){const styles=[];message=message.replace(/^\[(.*?)]/,(_,annotations)=>{const coloredAnnotations=annotations.split(":").map(a=>{const color=_annotateColors__WEBPACK_IMPORTED_MODULE_1__.a[Object(_hashCode__WEBPACK_IMPORTED_MODULE_2__.a)(a)%_annotateColors__WEBPACK_IMPORTED_MODULE_1__.a.length];return styles.push("color: "+color),styles.push("color: black"),`%c${a}%c`});return styles.unshift("color: black"),styles.push("color: default"),`%c[${coloredAnnotations.join(":")}]%c`}),splat=[...styles,...splat]}console[mappedMethod](message,...splat),next()}}}).call(this,__webpack_require__(50).setImmediate)},220:function(module,__webpack_exports__,__webpack_require__){"use strict";function hashCode(s){return Math.abs(s.split("").reduce((a,b)=>(a=(a<<5)-a+b.charCodeAt(0))&a,0))}__webpack_require__.d(__webpack_exports__,"a",(function(){return hashCode}))},221:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){var winston__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48),winston__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(winston__WEBPACK_IMPORTED_MODULE_0__),winston_transport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45),winston_transport__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(winston_transport__WEBPACK_IMPORTED_MODULE_1__);class GoogleAnalyticsTransport extends winston_transport__WEBPACK_IMPORTED_MODULE_1___default.a{log(logEntry,next){const ga=window.ga;if(ga){setImmediate(()=>{this.emit("logged",logEntry)});const level=logEntry.level,message=logEntry.message,splat=logEntry[Symbol.for("splat")]||[];let annotations=[];message.match(/^\[\[.*?]]/)?annotations=message.replace(/^\[\[(.*?)]].*/,"$1").split(":"):splat.unshift(message);const messageString=splat.map(msg=>{try{return"string"==typeof msg?msg:JSON.stringify(msg,null,"\t")}catch(e){return console.error("parse error",e),""}}).join(" ");ga("send","event","log",level,`[${annotations.join(":")}] ${messageString}`,{level:level,annotations:annotations,message:messageString,values:splat})}next()}}__webpack_exports__.a=function(){let level=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return new GoogleAnalyticsTransport({level:level,format:winston__WEBPACK_IMPORTED_MODULE_0___default.a.format.combine(winston__WEBPACK_IMPORTED_MODULE_0___default.a.format.simple())})}}).call(this,__webpack_require__(50).setImmediate)},222:function(module,__webpack_exports__,__webpack_require__){"use strict";var express_winston__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(223),express_winston__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(express_winston__WEBPACK_IMPORTED_MODULE_0__),chalk__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(66),chalk__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(chalk__WEBPACK_IMPORTED_MODULE_1__),_grab_be_common_util_objectToShortString__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(120);__webpack_exports__.a=logger=>express_winston__WEBPACK_IMPORTED_MODULE_0___default.a.logger({winstonInstance:logger,msg:(req,res)=>{var _req$body,_req$credentials;let gqlQuery="";if(null==req||null===(_req$body=req.body)||void 0===_req$body?void 0:_req$body.operationName){var _req$body2;if(res.gqlResponse){var _res$gqlResponse$erro,_res$gqlResponse$data;const errorCount=(null===(_res$gqlResponse$erro=res.gqlResponse.errors)||void 0===_res$gqlResponse$erro?void 0:_res$gqlResponse$erro.length)||0,successCount=Object.keys(null!==(_res$gqlResponse$data=res.gqlResponse.data)&&void 0!==_res$gqlResponse$data?_res$gqlResponse$data:{}).length-errorCount;gqlQuery="=>"+[errorCount>0?chalk__WEBPACK_IMPORTED_MODULE_1___default.a.red.bold("E"+errorCount):"",successCount>0?chalk__WEBPACK_IMPORTED_MODULE_1___default.a.green.bold(successCount):""].filter(Boolean).join(":")}gqlQuery=chalk__WEBPACK_IMPORTED_MODULE_1___default.a.grey(` ${req.body.operationName}(${Object(_grab_be_common_util_objectToShortString__WEBPACK_IMPORTED_MODULE_2__.a)((null==req||null===(_req$body2=req.body)||void 0===_req$body2?void 0:_req$body2.variables)||{})})${gqlQuery}`)}let authData="";var _req$credentials$payl,_req$credentials$payl2,_req$credentials$payl3;(null==req||null===(_req$credentials=req.credentials)||void 0===_req$credentials?void 0:_req$credentials.payload)&&(authData=chalk__WEBPACK_IMPORTED_MODULE_1___default.a.blue(` ${null!==(_req$credentials$payl=req.credentials.payload.role)&&void 0!==_req$credentials$payl?_req$credentials$payl:"guest"}:${null!==(_req$credentials$payl2=req.credentials.payload.user_id)&&void 0!==_req$credentials$payl2?_req$credentials$payl2:"unknownUser"}/${null!==(_req$credentials$payl3=req.credentials.payload.channel_id)&&void 0!==_req$credentials$payl3?_req$credentials$payl3:""}`));return`{{res.statusCode}} {{req.ip}} {{req.method}} {{res.responseTime}}ms {{req.url}}${gqlQuery}${authData}`},colorize:!0,meta:!1})},226:function(module,exports){module.exports={graphql:{serverUrl:"https://twitter-backend.grab-colab.com/graphql",serverPort:"4000"},analytics:{googleAnalyticsId:"UA-41001828-8"},$project:"twitter",$context:"prod"}},231:function(module,exports){module.exports={analytics:{googleAnalyticsId:"UA-41001828-8"},twitter:{apiUrl:"https://api.twitter.com/",grabServiceUrl:"https://twitch-social-extension.appspot.com/"},$project:"twitter",$context:"prod"}},234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return OAUTH_TYPE})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DATA_SEGMENT})),__webpack_require__.d(__webpack_exports__,"c",(function(){return SIZES}));var os__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58);__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_0__).a.cpus().length;const OAUTH_TYPE={twitch:"twitch",twitter:"twitter"},DATA_SEGMENT={extension:"extension",package:"package",user:"user",channel:"channel"},SIZES={small:"small",medium:"medium",large:"large",xLarge:"xLarge",xxLarge:"xxLarge",xxxLarge:"xxxLarge"}},235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MOCK_ID})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MOCK_USER})),__webpack_require__.d(__webpack_exports__,"c",(function(){return addMockUsersToArray}));__webpack_require__(11),__webpack_require__(21);const MOCK_ID="m1234567890",MOCK_USER={username:"MockChannel",broadcaster_id:MOCK_ID,broadcaster_login:"MockChannel",broadcaster_name:"MockChannel",broadcaster_language:"en",game_id:"0",game_name:"foo",title:"lorum ipsum",profile_image_url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA1LTA1VDEzOjI3OjM4LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNS0wNVQxMzoyODoyOC0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNS0wNVQxMzoyODoyOC0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2OTZkNzQ5ZC1kYzU5LThmNGYtYTFjNy0wOTZlMWUwZGI4ZmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njk2ZDc0OWQtZGM1OS04ZjRmLWExYzctMDk2ZTFlMGRiOGZlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6Njk2ZDc0OWQtZGM1OS04ZjRmLWExYzctMDk2ZTFlMGRiOGZlIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2OTZkNzQ5ZC1kYzU5LThmNGYtYTFjNy0wOTZlMWUwZGI4ZmUiIHN0RXZ0OndoZW49IjIwMjEtMDUtMDVUMTM6Mjc6MzgtMDQ6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4u3Ao0AAADQElEQVQ4y21TTWwbRRR+87Pe//Wmtmu3KLhOpOAKSiEHBLGAFAnEpQq99ECrIgRqr6CCEGo5pByKACFRceSEVIkSpYRLhEQDPRQalFIURBNRSEtjO7ZpHa8dr3/Wnn0cTG0H+bvMG837vjfz5n2AfTh65GUACAatDkzTtCzTsgzDMHVdk2UJAObm5rr5HAYBEbcH2I0571FoP4cxBgCU0E4eYmcliHBf7b+cDrZVlhUFAAB94fuUkPtlCaIvfNERUFV1MJkxCgDCR0L6b4Scc4pUtBBASFKge0AQ8dy5Ty//cNmruT//tnov7wCw/3UAKAUkgD6A9/AjIyPx+FAofPzEcYKI8fjw+noGAAjAwaftZlNEd/jUd11Pa7a5poDK67liuwVGuYrXVqsdyekz0wQRHcdZWVldz2TdWzNabjayi83/Kgl57EDyth5w/8zAwu/RyXE1RG45Dd147MNgaPdIYk8ymeQAYNv2xMRTEwDZ5crM2a+GE4HvrkGmxp8c5WETShW4uKDEdpqTw0LR5GOvnhjcMGezZFlQcsnbh4HiUsSUCyXp2XH2ReyOU2kBB4VDo+4oqj3gn7lEbQssDffGiVM3b+eloEGvruBWU943pqMPcoD2U7ZV1gJidxhCYco5rP9D1nLwQIT8kfafSNJHE0KSgFJBCAwmAwWJgKYqLaSnX4H0Xdwo4ms2CXDM3uUSd9u+x7g8eDyDe6b+rqk/XS06VVzLMeGz6BBvCVquM6/hrtyAcPIo7yN3Z7CH78+fXP72k9EEsUyZM9LwML3RbLLY4TdndjyY2taj/s2lhUuZXKVWTiyn7WwDORNtgbUmFApSMDZk/9IszX9+YDKVTO7tua+DxcUrXRUzaERCtmnvUvSIauzUjZ4ZItFoPpfu+dkp/kX8tW8ungcAXTdct5pKvXj60E2s3Kj5ls62WPChj+f3zc5+adlDxc3yB2ffmDr4/P7xKepu5fLZH5mi3MkWu45/572PUi+9nwiJZ/bXR8Ptx587+e70Z5wzxqkkBcpVISmtpcULNJ9dagncyNUy6XuddxiGcebU6xeuxCqhQ6VcY9N44evrY6feOmYYuvA8r14vFBxNi0oS/gtH7orOsUsgSAAAAABJRU5ErkJggg=="},addMockUsersToArray=(MOCK_USER.broadcaster_id,MOCK_USER.broadcaster_login,userList=>userList)},236:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),react_json_view__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),__webpack_require__(224)),react_json_view__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_1__),_grab_be_common_util_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),_grab_be_common_class_mixinToJsonRemoveDefaults__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(108),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8);__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__.a=props=>{const title=props.title,data=props.data,normalizedData=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{const origRemove=_grab_be_common_class_mixinToJsonRemoveDefaults__WEBPACK_IMPORTED_MODULE_3__.b.enable;_grab_be_common_class_mixinToJsonRemoveDefaults__WEBPACK_IMPORTED_MODULE_3__.b.enable=!1;const rtn=data&&"object"==typeof data?JSON.parse(_grab_be_common_util_json__WEBPACK_IMPORTED_MODULE_2__.a.stringify(data)):data;return _grab_be_common_class_mixinToJsonRemoveDefaults__WEBPACK_IMPORTED_MODULE_3__.b.enable=origRemove,rtn},[data]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[title&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{style:{marginBottom:"0px"},children:title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_json_view__WEBPACK_IMPORTED_MODULE_1___default.a,{src:null!=normalizedData?normalizedData:props,collapsed:2,collapseStringsAfterLength:100,quotesOnKeys:!1,sortKeys:!0})]})}},24:function(module,__webpack_exports__,__webpack_require__){"use strict";var GrabError=__webpack_require__(61),logger=__webpack_require__(30);__webpack_require__(235),__webpack_require__(9);var _window$Twitch2;const twitchExt=(null===(_window$Twitch2=window.Twitch)||void 0===_window$Twitch2?void 0:_window$Twitch2.ext)?window.Twitch.ext:{};if(!twitchExt.onError)throw new GrabError.a.ConfigurationError("window.Twitch.ext not found, is the library loaded?");twitchExt.onError(error=>logger.a.error(error.message||error.payload));__webpack_exports__.a=twitchExt},27:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_grab_be_common_GrabError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61);class ObjectPrototypeMutationError extends Error{constructor(params){super(params),this.name="ObjectPrototypeMutationError"}}const traverse=function traverse(object,path){let callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const segments=path.split("."),length=segments.length;for(let idx=0;idx<length;idx+=1){const currentSegment=segments[idx];if(!object)return;if("+"===currentSegment){if(Array.isArray(object))return object.map((value,index)=>{const remainingSegments=segments.slice(idx+1);return remainingSegments.length>0?traverse(value,remainingSegments.join("."),callback):callback(object,index,segments,idx)});const pathToHere=segments.slice(0,idx).join(".");throw new _grab_be_common_GrabError__WEBPACK_IMPORTED_MODULE_1__.a.ConfigurationError(`Object at wildcard (${pathToHere}) is not an array`)}object=callback(object,currentSegment,segments,idx)}return object},isLastSegment=(segments,index)=>segments.length===index+1;function isInNestedProperty(object,property,objectInPath){let options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("object"!=typeof object||null===object)return!1;if(void 0===property)return!1;try{let isIn=!1,pathExists=!1;return traverse(object,property,(function(currentObject,currentProperty,segments,index){return isIn=isIn||currentObject===objectInPath||!!currentObject&&currentObject[currentProperty]===objectInPath,pathExists=isLastSegment(segments,index)&&"object"==typeof currentObject&&currentProperty in currentObject,currentObject&&currentObject[currentProperty]})),options.validPath?isIn&&pathExists:isIn}catch(err){return!1}}const objectPath={set:(object,property,value)=>(((object,property,value)=>{if("object"!=typeof object||null===object)return object;if(void 0===property)return object;if("number"==typeof property)return object[property]=value,object[property];try{traverse(object,property,(function(currentObject,currentProperty,segments,index){if(currentObject===Reflect.getPrototypeOf({}))throw new ObjectPrototypeMutationError("Attempting to mutate Object.prototype");if(!currentObject[currentProperty]){const nextPropIsNumber=Number.isInteger(Number(segments[index+1])),nextPropIsArrayWildcard="+"===segments[index+1];currentObject[currentProperty]=nextPropIsNumber||nextPropIsArrayWildcard?[]:{}}return isLastSegment(segments,index)&&(currentObject[currentProperty]=value),currentObject[currentProperty]}))}catch(err){if(err instanceof ObjectPrototypeMutationError)throw err;return object}})(object,property,value),object),del:(object,property)=>(((object,property)=>{if("object"!=typeof object||null===object)return object;if(void 0===property)return object;if("number"==typeof property)return object[property];try{traverse(object,property,(function(currentObject,currentProperty,segments,index){if(currentObject===Reflect.getPrototypeOf({}))throw new ObjectPrototypeMutationError("Attempting to mutate Object.prototype");if(!currentObject[currentProperty]){const nextPropIsNumber=Number.isInteger(Number(segments[index+1])),nextPropIsArrayWildcard="+"===segments[index+1];currentObject[currentProperty]=nextPropIsNumber||nextPropIsArrayWildcard?[]:{}}return isLastSegment(segments,index)&&delete currentObject[currentProperty],currentObject[currentProperty]}))}catch(err){if(err instanceof ObjectPrototypeMutationError)throw err;return object}})(object,property),object),get:(object,property)=>((object,property)=>{if("object"!=typeof object||null===object)return object;if(void 0===property)return object;if("number"==typeof property)return object[property];try{return traverse(object,property,(function(currentObject,currentProperty){return currentObject[currentProperty]}))}catch(err){return object}})(object,property),has:(object,property)=>function(object,property){let options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=typeof object||null===object)return!1;if(void 0===property)return!1;if("number"==typeof property)return property in object;try{let has=!1;return traverse(object,property,(function(currentObject,currentProperty,segments,index){if(!isLastSegment(segments,index))return currentObject&&currentObject[currentProperty];has=options.own?currentObject.hasOwnProperty(currentProperty):currentProperty in currentObject})),has}catch(err){return!1}}(object,property),hasOwn:(object,property,options)=>objectPath.has(object,property,options||{own:!0}),isIn:function(object,property,objectInPath){let options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return isInNestedProperty(object,property,objectInPath,options)},keysIn:(object,includeArrays)=>function(object){let includeArrays=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const cache=[],getKeys=(obj,path)=>{let keys=[];return"object"!=typeof obj||null===obj||cache.indexOf(obj)>-1||(cache.push(obj),Object.entries(obj).forEach(_ref=>{let _ref2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,2),key=_ref2[0],value=_ref2[1];const currentPath=path?`${path}.${key}`:key;"object"==typeof value&&null!==value&&Object.keys(value).length>0&&(includeArrays||!Array.isArray(value))?keys=keys.concat(getKeys(value,currentPath)):keys.push(currentPath)}),cache.pop()),keys};return getKeys(object,"")}(object,includeArrays),ObjectPrototypeMutationError:ObjectPrototypeMutationError};__webpack_exports__.a=objectPath},279:function(module,exports){},281:function(module,exports){},30:function(module,__webpack_exports__,__webpack_require__){"use strict";var _grab_be_logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21);__webpack_exports__.a=_grab_be_logger__WEBPACK_IMPORTED_MODULE_0__.b.annotate("twitchExt")},314:function(module,exports){},316:function(module,exports){},37:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__(7),react=__webpack_require__(5);const DOMProps={abbr:"abbr",accept:"accept",acceptCharset:"accept-charset",accessKey:"accesskey",action:"action",allowFullScreen:"allowfullscreen",allowTransparency:"allowtransparency",alt:"alt",async:"async",autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",cellPadding:"cellpadding",cellSpacing:"cellspacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite",class:"class",className:"class",cols:"cols",colSpan:"colspan",command:"command",content:"content",contentEditable:"contenteditable",contextMenu:"contextmenu",controls:"controls",coords:"coords",crossOrigin:"crossorigin",data:"data",dateTime:"datetime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",encType:"enctype",for:"for",form:"form",formAction:"formaction",formEncType:"formenctype",formMethod:"formmethod",formNoValidate:"formnovalidate",formTarget:"formtarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hrefLang:"hreflang",htmlFor:"for",httpEquiv:"http-equiv",icon:"icon",id:"id",inputMode:"inputmode",isMap:"ismap",itemId:"itemid",itemProp:"itemprop",itemRef:"itemref",itemScope:"itemscope",itemType:"itemtype",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxLength:"maxlength",media:"media",mediaGroup:"mediagroup",method:"method",min:"min",minLength:"minlength",multiple:"multiple",muted:"muted",name:"name",noValidate:"novalidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radioGroup:"radiogroup",readOnly:"readonly",rel:"rel",required:"required",role:"role",rows:"rows",rowSpan:"rowspan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellCheck:"spellcheck",src:"src",srcDoc:"srcdoc",srcSet:"srcset",start:"start",step:"step",style:"style",tabIndex:"tabindex",target:"target",title:"title",translate:"translate",type:"type",typeMustMatch:"typemustmatch",useMap:"usemap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",onCopy:"onCopy",onCut:"onCut",onPaste:"onPaste",onLoad:"onLoad",onError:"onError",onWheel:"onWheel",onScroll:"onScroll",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onFocus:"onFocus",onBlur:"onBlur",onChange:"onChange",onInput:"onInput",onSubmit:"onSubmit",onClick:"onClick",onContextMenu:"onContextMenu",onDoubleClick:"onDoubleClick",onDrag:"onDrag",onDragEnd:"onDragEnd",onDragEnter:"onDragEnter",onDragExit:"onDragExit",onDragLeave:"onDragLeave",onDragOver:"onDragOver",onDragStart:"onDragStart",onDrop:"onDrop",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onSelect:"onSelect",onTouchCancel:"onTouchCancel",onTouchEnd:"onTouchEnd",onTouchMove:"onTouchMove",onTouchStart:"onTouchStart",onAnimationStart:"onAnimationStart",onAnimationEnd:"onAnimationEnd",onAnimationIteration:"onAnimationIteration",onTransitionEnd:"onTransitionEnd"};var jsx_runtime=__webpack_require__(8);const View=Object(react.forwardRef)((props,ref)=>Object(jsx_runtime.jsx)("div",Object(objectSpread2.a)(Object(objectSpread2.a)({ref:ref},function(props){const filterProps={};for(const prop in props)props.hasOwnProperty(prop)&&DOMProps[prop]&&(filterProps[prop]=props[prop]);return filterProps}(props)),{},{children:props.children})));__webpack_exports__.a=View;View.propTypes={},View.defaultProps={}},378:function(module,exports,__webpack_require__){module.exports={colors:"'./base/values.module.css'","dark-color":"#f7f7f8","dark-background-color":"#0e0e10","dark-link-color":"#9146FF","dark-select-color":"#BF94FF","light-color":"#0e0e10","light-background-color":"#f7f7f8","light-link-color":"#9146FF","light-select-color":"#BF94FF",root:"src_root__3TmMh"}},379:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ConfigMode",(function(){return ConfigMode})),__webpack_require__.d(__webpack_exports__,"ViewerMode",(function(){return ViewerMode})),__webpack_require__.d(__webpack_exports__,"AdminMode",(function(){return AdminMode})),__webpack_require__.d(__webpack_exports__,"properties",(function(){return properties}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_grab_be_config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),src_base_components_apolloProvider__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),__webpack_require__(142)),_$projectConfig_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(231),_$projectConfig_json__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_$projectConfig_json__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.register("twitter.streamer.token",""),_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.register("twitter.apiUrl",""),_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.register("twitter.grabServiceUrl","");const Config=Object(react__WEBPACK_IMPORTED_MODULE_2__.lazy)(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(1),__webpack_require__.e(4)]).then(__webpack_require__.bind(null,403))),Viewer=Object(react__WEBPACK_IMPORTED_MODULE_2__.lazy)(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(1)]).then(__webpack_require__.bind(null,401))),Admin=Object(react__WEBPACK_IMPORTED_MODULE_2__.lazy)(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(8),__webpack_require__.e(3)]).then(__webpack_require__.bind(null,402))),ConfigMode=props=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(src_base_components_apolloProvider__WEBPACK_IMPORTED_MODULE_3__.a,Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props),{},{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Config,Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props))})),ViewerMode=props=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(src_base_components_apolloProvider__WEBPACK_IMPORTED_MODULE_3__.a,Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props),{},{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Viewer,Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props))})),AdminMode=props=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Admin,Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props)),properties={modes:{Dashboard:ConfigMode,Config:ConfigMode,Viewer:ViewerMode,Admin:AdminMode},config:_$projectConfig_json__WEBPACK_IMPORTED_MODULE_4___default.a}},397:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var objectSpread2=__webpack_require__(7),regenerator=__webpack_require__(12),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(22),src=__webpack_require__(9),logger_src=__webpack_require__(21),react=__webpack_require__(5),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(159),react_dom_default=__webpack_require__.n(react_dom),provider=__webpack_require__(404),slicedToArray=__webpack_require__(11),ucFirst=__webpack_require__(98),view=__webpack_require__(37),parametersHook=(__webpack_require__(138),__webpack_require__(47),__webpack_require__(53)),twitchExt=__webpack_require__(24);var contextHook=__webpack_require__(110),useConfig=__webpack_require__(69),jsx_runtime=(__webpack_require__(236),__webpack_require__(8));function ExtensionInformation(props){const _useConfig=Object(useConfig.a)("disabled");Object(slicedToArray.a)(_useConfig,1)[0];return null}var getClassNameFromArray=__webpack_require__(42),analytics=__webpack_require__(68),TWITCH=__webpack_require__(20),utils=__webpack_require__(79),objectWithoutProperties=__webpack_require__(41),index_esm=__webpack_require__(225),message_module=__webpack_require__(93),message_module_default=__webpack_require__.n(message_module);var message=props=>{const icon=props.icon,children=props.children,buttons=props.buttons,className=props.className,passProps=Object(objectWithoutProperties.a)(props,["icon","children","buttons","className"]);return Object(jsx_runtime.jsxs)(view.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},passProps),{},{className:Object(getClassNameFromArray.a)([message_module_default.a.messageContainer,className]),children:[icon&&Object(jsx_runtime.jsx)(view.a,{className:message_module_default.a.icon,children:icon}),Object(jsx_runtime.jsx)(view.a,{className:message_module_default.a.message,children:children}),buttons&&Object(jsx_runtime.jsx)(view.a,{className:message_module_default.a.buttons,children:buttons.map((b,i)=>Object(jsx_runtime.jsx)("span",{children:b},i))})]}))},button_module=(__webpack_require__(234),__webpack_require__(77)),button_module_default=__webpack_require__.n(button_module);const Button=props=>{const children=props.children,className=props.className,clickDisableDuration=props.clickDisableDuration,onClick=props.onClick,outline=props.outline,inline=props.inline,uppercase=props.uppercase,disabled=props.disabled,fluid=props.fluid,size=props.size,passProps=Object(objectWithoutProperties.a)(props,["children","className","clickDisableDuration","onClick","outline","inline","uppercase","disabled","fluid","size"]),_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),clickDisabled=_useState2[0],setClickDisabled=_useState2[1],isDisabled=disabled||clickDisabled,clickDisabledTimeout=Object(react.useRef)();Object(react.useEffect)(()=>()=>{clearTimeout(clickDisabledTimeout.current)},[]);const buttonProps=Object(objectSpread2.a)(Object(objectSpread2.a)({},passProps),{},{children:children,className:Object(utils.b)([button_module_default.a.button,uppercase&&button_module_default.a.uppercase,outline&&button_module_default.a.outline,inline&&button_module_default.a.inline,fluid&&button_module_default.a.fluid,className,size]),disabled:isDisabled,onClick:disabled||clickDisabled?()=>{}:()=>{clickDisableDuration&&(setClickDisabled(!0),clearTimeout(clickDisabledTimeout.current),clickDisabledTimeout.current=setTimeout(()=>{setClickDisabled(!1)},clickDisableDuration)),null==onClick||onClick()}});return Object(jsx_runtime.jsx)(view.a,Object(objectSpread2.a)({},buttonProps))};Button.defaultProps={uppercase:!0};var components_button=Button,panel=__webpack_require__(96);var messageError=props=>{const error=props.error,reset=props.reset,_props$buttons=(props.children,props.buttons),buttons=void 0===_props$buttons?[]:_props$buttons,passProps=Object(objectWithoutProperties.a)(props,["error","reset","children","buttons"]),_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),showDetails=_useState2[0],errorButtons=(_useState2[1],[]);return reset&&errorButtons.push(Object(jsx_runtime.jsx)(components_button,{onClick:()=>reset(),children:"Reset"})),Object(jsx_runtime.jsxs)(message,Object(objectSpread2.a)(Object(objectSpread2.a)({},passProps),{},{icon:Object(jsx_runtime.jsx)(index_esm.a,{}),buttons:errorButtons.concat(buttons),children:[Object(jsx_runtime.jsx)("h3",{children:"An error occurred."}),Object(jsx_runtime.jsx)("p",{children:"Please refresh the page or contact us at grablabs@twitch.tv."}),Object(jsx_runtime.jsx)(panel.c,{style:{textAlign:"left",display:showDetails?"block":"none"},children:Object(jsx_runtime.jsx)("pre",{children:(null==error?void 0:error.stack)||"No details"})})]}))},overlay=__webpack_require__(155),styles_module=__webpack_require__(147),styles_module_default=__webpack_require__.n(styles_module);const logger=logger_src.b.annotate("ErrorBoundary"),initialState={error:null};class errorBoundary_ErrorBoundary extends react_default.a.Component{constructor(props){switch(super(props),this.FallbackComponent=props.FallbackComponent||messageError,props.useOverlay){case"byAnchor":this.useOverlay=Object(parametersHook.getParameters)().anchor===TWITCH.b.VIDEO_OVERLAY;break;case"overlay":this.useOverlay=!0;break;case"inline":default:this.useOverlay=!1}this.state=initialState}static getDerivedStateFromError(error){return{error:error}}componentDidCatch(error,errorInfo){logger.error(error,errorInfo),Object(analytics.d)(analytics.b.Error,analytics.a.Other,"ErrorBoundary",error.message)}reset(){"function"==typeof this.props.reset&&this.props.reset(),this.setState(initialState)}render(){if(this.state.error){const FallbackComponent=this.FallbackComponent,fallbackProps=Object(objectSpread2.a)(Object(objectSpread2.a)({},this.props),{},{error:this.state.error,reset:!1!==this.props.reset?this.reset.bind(this):void 0}),componentStyles=[styles_module_default.a.errorBoundary,styles_module_default.a.hideProduction];return this.useOverlay?Object(jsx_runtime.jsx)(overlay.a,{show:!0,className:Object(utils.b)(componentStyles),children:Object(jsx_runtime.jsx)(FallbackComponent,Object(objectSpread2.a)({},fallbackProps))}):Object(jsx_runtime.jsx)(FallbackComponent,Object(objectSpread2.a)(Object(objectSpread2.a)({},fallbackProps),{},{className:Object(utils.b)([this.props.className,...componentStyles])}))}return this.props.children}}const themeMode=modeName=>["Admin","Obs"].indexOf(modeName)<0;function ModeNavigation(props){const propertiesData=Object(parametersHook.useParameters)(),contextData=Object(contextHook.c)(),_useConfig=Object(useConfig.a)("overrideTheme"),overrideTheme=Object(slicedToArray.a)(_useConfig,1)[0];Object(react.useEffect)(()=>{Object(contextHook.b)(ctx=>Object(objectSpread2.a)(Object(objectSpread2.a)({},ctx),{},{theme:overrideTheme||ctx.usersTheme}))},[overrideTheme,contextData.usersTheme]);const routeProps={},allModes=props.modes||{};let Mode;const modeName=Object(ucFirst.a)(propertiesData.mode);Mode="Admin"===modeName?Object(react.lazy)(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(8),__webpack_require__.e(3)]).then(__webpack_require__.bind(null,556))):allModes[modeName]?allModes[modeName]:()=>null;return Mode===ExtensionInformation?routeProps.modes=allModes:"Admin"===modeName&&(routeProps.projectData=props.projectData),Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)(view.a,{className:Object(getClassNameFromArray.a)(["extension-mode-navigation","twitch-theme--"+(themeMode(modeName)&&contextData.theme||"none"),"twitch-mode--"+(modeName.toLowerCase()||"none"),"Viewer"===modeName&&"twitch-anchor--"+(propertiesData.anchor.toLowerCase()||"none")]),children:Object(jsx_runtime.jsx)(errorBoundary_ErrorBoundary,{useOverlay:"byAnchor",children:Object(jsx_runtime.jsx)(react.Suspense,{fallback:null,children:Object(jsx_runtime.jsx)(Mode,Object(objectSpread2.a)({},routeProps))})})})})}var dev_grabTools={setLogLevel:logger_src.c,getConfig:()=>src.a.get(),setAuth:tokenOrAuth=>{const auth="object"==typeof tokenOrAuth?tokenOrAuth:{channelId:"M123456789",clientId:"123456789MockAbcd",token:tokenOrAuth,userId:"M123456789"};window.postMessage({action:"twitch-ext-auth",auth:auth})}};__webpack_require__(378);var util_escapeRegExp=string=>string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var string_replaceAll=(str,match,replacement)=>str.replace(new RegExp(util_escapeRegExp(match),"g"),()=>replacement),src_logger=__webpack_require__(56);var src_convertStringValue=(stringValue,convertTo)=>{let newValue;switch(convertTo){case"boolean":newValue="true"===stringValue.toLowerCase()||"yes"===stringValue.toLowerCase()||"1"===stringValue||!1;break;case"number":case"object":try{newValue=JSON.parse(stringValue)}catch(e){newValue=void 0}break;case"string":newValue=stringValue;break;case"function":case"symbol":default:newValue=void 0}return newValue};var src_Service=class{constructor(name){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name=name,this.options=options,this.logger=src_logger.a.annotate(name)}init(){this.logger.silly("init",this.options)}getValues(currentValues){var _this=this;return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this.logger.silly("getting values"),_context.abrupt("return",{});case 2:case"end":return _context.stop()}}),_callee)})))()}getConfigValues(config,currentValues){var _this2=this;return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){var values,newConfigValues;return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,_this2.getValues(currentValues);case 3:values=_context2.sent,_context2.next=10;break;case 6:return _context2.prev=6,_context2.t0=_context2.catch(0),_this2.logger.error("Could not get values"),_context2.abrupt("return",{});case 10:return newConfigValues={},Object.keys(values).forEach(key=>{config.hasOwnProperty(key)&&(newConfigValues[key]=values[key],"string"==typeof newConfigValues[key]&&(newConfigValues[key]=src_convertStringValue(newConfigValues[key],typeof config[key])))}),_context2.abrupt("return",newConfigValues);case 13:case"end":return _context2.stop()}}),_callee2,null,[[0,6]])})))()}};var Service_Environment=class extends src_Service{constructor(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("Environment",Object(objectSpread2.a)({prefix:"CONFIG_",altDotCharacter:"__",map:{}},options))}getValues(){var _superprop_getGetValues=()=>super.getValues,_this=this;return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var _this$options,prefix,altDotCharacter,values,env;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this$options=_this.options,prefix=_this$options.prefix,altDotCharacter=_this$options.altDotCharacter,_context.next=3,_superprop_getGetValues().call(_this);case 3:return values=_context.sent,env=Object(objectSpread2.a)({},Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,CONFIG_FILE:"/etc/gitlab-runner/config.toml",PROJECT:"twitter",CONTEXT:"prod"})),Object.entries(_this.options.map).forEach(_ref=>{let _ref2=Object(slicedToArray.a)(_ref,2),newKey=_ref2[0],oldKeys=_ref2[1];newKey=`${_this.options.prefix}${newKey}`,newKey in env||oldKeys.split("||").forEach(oldKey=>{(oldKey=oldKey.trim())in env&&!(newKey in env)&&(env[newKey]=env[oldKey])})}),Object.keys(env||{}).forEach(key=>{(!prefix||0===key.indexOf(prefix))&&key.indexOf(altDotCharacter)>-1&&(env[string_replaceAll(key,altDotCharacter,".")]=env[key],delete env[key])}),Object.keys(env||{}).forEach(key=>{prefix&&0!==key.indexOf(prefix)||(values[key.replace(prefix,"")]=env[key])}),_context.abrupt("return",values);case 9:case"end":return _context.stop()}}),_callee)})))()}},objectPath=__webpack_require__(27);var Service_Values=class extends src_Service{constructor(){super("Values",{values:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}getValues(){var _superprop_getGetValues=()=>super.getValues,_this=this;return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var values;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_superprop_getGetValues().call(_this);case 2:return values=_context.sent,_context.abrupt("return",Object(objectSpread2.a)(Object(objectSpread2.a)({},values),_this.options.values));case 4:case"end":return _context.stop()}}),_callee)})))()}getConfigValues(config){var _this2=this;return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){var values,newConfigValues;return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this2.getValues();case 2:return values=_context2.sent,newConfigValues={},Object.keys(config).forEach(key=>{objectPath.a.has(values,key)&&(newConfigValues[key]=objectPath.a.get(values,key))}),_context2.abrupt("return",newConfigValues);case 6:case"end":return _context2.stop()}}),_callee2)})))()}},deepMerge=__webpack_require__(63),package_0=__webpack_require__(123),configuration=__webpack_require__(60);window.onbeforeunload=()=>{configuration.a.cacheConfig()};var twitchExt_ConfigurationService=class extends Service_Values{constructor(){super({})}getConfigValues(config){var _this=this;return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var values,newConfigValues;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.getValues();case 2:return values=_context.sent,newConfigValues={},Object.keys(config).forEach(key=>{objectPath.a.has(values,key)&&(newConfigValues[key]=objectPath.a.get(values,key))}),_context.abrupt("return",newConfigValues);case 6:case"end":return _context.stop()}}),_callee)})))()}getValues(){return Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new Promise(resolve=>{const timeout=setTimeout(()=>{configuration.a.restoreCache(),resolve(configuration.a.getMergedValue())},1e3);twitchExt.a.configuration.onChanged(()=>{clearTimeout(timeout),resolve(configuration.a.getMergedValue())})}));case 1:case"end":return _context2.stop()}}),_callee2)})))()}},graphql_serverPort_4000_analytics_googleAnalyticsId_UA_41001828_8_$project_twitter_$context_prod_=__webpack_require__(226),graphql_serverPort_4000_analytics_googleAnalyticsId_UA_41001828_8_$project_twitter_$context_prod_default=__webpack_require__.n(graphql_serverPort_4000_analytics_googleAnalyticsId_UA_41001828_8_$project_twitter_$context_prod_);src.a.register("disabled",!1),src.a.register("overrideTheme",""),src.a.register("project.publicUrl","."),src.a.register("i18n.locale","en"),src.a.register("analytics",{googleAnalyticsId:""}),src.a.register("graphql.serverUrl",""),src.a.register("graphql.serverPort",""),src.a.register("mock.ui",!1),src.a.register("mock.twitch.authData",{});const map={"graphql.serverUrl":"GRAPHQL_SERVER_URL||REACT_APP_GRAPHQL_SERVER_URL","project.publicUrl":"PUBLIC_URL","mock.ui":"MOCK_UI||REACT_APP_MOCK_UI","mock.schemas":"MOCK_SCHEMAS","mock.twitch.authData":"TWITCH_AUTH_DATA||REACT_APP_TWITCH_AUTH_DATA"};var _ref,initConfig=(_ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var projectConfig,_args=arguments;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return projectConfig=_args.length>0&&void 0!==_args[0]?_args[0]:{},_context.next=3,Object(src.b)([new Service_Values(Object(deepMerge.a)(graphql_serverPort_4000_analytics_googleAnalyticsId_UA_41001828_8_$project_twitter_$context_prod_default.a,projectConfig)),new Service_Environment({map:map}),new twitchExt_ConfigurationService]);case 3:"development"===src.a.ENVIRONMENT?(console.groupCollapsed(`%c *** ${src.a.PROJECT}-${src.a.CONTEXT}-${src.a.ENVIRONMENT} ${package_0.name}@${package_0.version} *** `,"background: black; color: white;"),logger_src.b.debug("process.env:",Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,CONFIG_FILE:"/etc/gitlab-runner/config.toml",PROJECT:"twitter",CONTEXT:"prod"})),logger_src.b.debug("Keys:",src.a.keys()),logger_src.b.debug("Registered:",src.a.list()),logger_src.b.debug("Current:",src.a.get()),console.groupEnd()):"default"!==src.a.CONTEXT&&logger_src.b.info(`*** PROJECT: ${src.a.PROJECT}-${src.a.CONTEXT}-${src.a.ENVIRONMENT} ***`);case 4:case"end":return _context.stop()}}),_callee)}))),function(){return _ref.apply(this,arguments)});document.grabTools=dev_grabTools,Object(logger_src.a)("warn"),Promise.resolve().then(__webpack_require__.bind(null,379)).then(module=>module.default&&module.default.then?module.default:module).then(function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(projectData){var _projectData$properti;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,initConfig(null===(_projectData$properti=projectData.properties)||void 0===_projectData$properti?void 0:_projectData$properti.config);case 2:return _context.abrupt("return",projectData);case 3:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()).then(projectData=>{Object(analytics.c)({googleAnalyticsId:src.a.get("analytics.googleAnalyticsId")}),react_dom_default.a.render(Object(jsx_runtime.jsx)(react_default.a.StrictMode,{children:Object(jsx_runtime.jsx)(provider.a,{locale:src.a.get("i18n.locale"),children:Object(jsx_runtime.jsx)(ModeNavigation,Object(objectSpread2.a)({projectData:projectData},projectData.properties))})}),document.getElementById("root"))},err=>{logger_src.b.error("Error importing:",err)})},42:function(module,__webpack_exports__,__webpack_require__){"use strict";function getClassNameFromArray(array){return(null==array?void 0:array.length)?array.filter(Boolean).join(" "):""}__webpack_require__.d(__webpack_exports__,"a",(function(){return getClassNameFromArray}))},46:function(module,exports){module.exports={}},47:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"useAuth",(function(){return useAuth})),__webpack_require__.d(__webpack_exports__,"setAuth",(function(){return setAuth})),__webpack_require__.d(__webpack_exports__,"updateAuth",(function(){return updateAuth})),__webpack_require__.d(__webpack_exports__,"getAuth",(function(){return getAuth})),__webpack_require__.d(__webpack_exports__,"onAuthChange",(function(){return onAuthChange}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),src_base_createSingleton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59),_grab_be_config__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_logger__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(30),_twitchExt__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24);let initValue={channelId:"",clientId:"",token:"",userId:"",role:""};new Promise(resolve=>{_grab_be_config__WEBPACK_IMPORTED_MODULE_5__.a.onInit(resolve)});const setAuthData=(_ref=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(newAuthData){var _twitchExt$viewer,mockAuth;return _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:initValue=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},newAuthData),{},{role:(null===_twitchExt__WEBPACK_IMPORTED_MODULE_7__.a||void 0===_twitchExt__WEBPACK_IMPORTED_MODULE_7__.a||null===(_twitchExt$viewer=_twitchExt__WEBPACK_IMPORTED_MODULE_7__.a.viewer)||void 0===_twitchExt$viewer?void 0:_twitchExt$viewer.role)||""}),_context.next=6;break;case 4:(null==(mockAuth=_grab_be_config__WEBPACK_IMPORTED_MODULE_5__.a.get("mock.twitch.authData"))?void 0:mockAuth.token)&&(null==mockAuth?void 0:mockAuth.clientId)&&mockAuth.clientId!==newAuthData.clientId&&document.location.href.toLowerCase().indexOf("mode=admin")<0&&(_logger__WEBPACK_IMPORTED_MODULE_6__.a.debug("onAuthorized: auth not usable",newAuthData,"reverting to mock"),initValue=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},mockAuth),{},{role:(null==mockAuth?void 0:mockAuth.channelId)===(null==mockAuth?void 0:mockAuth.userId)?"broadcaster":"user"}));case 6:_logger__WEBPACK_IMPORTED_MODULE_6__.a.debug("onAuthorized:",initValue),setAuth(initValue);case 8:case"end":return _context.stop()}}),_callee)}))),function(_x){return _ref.apply(this,arguments)});var _ref;_twitchExt__WEBPACK_IMPORTED_MODULE_7__.a.onAuthorized(setAuthData);const _createSingleton=Object(src_base_createSingleton__WEBPACK_IMPORTED_MODULE_4__.a)(()=>initValue),_createSingleton2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_createSingleton,5),useAuth=_createSingleton2[0],setAuth=_createSingleton2[1],updateAuth=_createSingleton2[2],getAuth=_createSingleton2[3],onAuthChange=_createSingleton2[4]},53:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"useParameters",(function(){return useParameters})),__webpack_require__.d(__webpack_exports__,"setParameters",(function(){return setParameters})),__webpack_require__.d(__webpack_exports__,"updateParameters",(function(){return updateParameters})),__webpack_require__.d(__webpack_exports__,"getParameters",(function(){return getParameters})),__webpack_require__.d(__webpack_exports__,"onParametersChange",(function(){return onParametersChange}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),query_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(138),query_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_2__),_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),_createSingleton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(59);const params=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({anchor:"",language:"en",locale:"en-US",mode:"",state:"testing",platform:"web"},query_string__WEBPACK_IMPORTED_MODULE_2___default.a.parse(window.location.search));_logger__WEBPACK_IMPORTED_MODULE_3__.a.silly("Parameters:",params);const _createSingleton=Object(_createSingleton__WEBPACK_IMPORTED_MODULE_4__.a)(params),_createSingleton2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_createSingleton,5),useParameters=_createSingleton2[0],setParameters=_createSingleton2[1],updateParameters=_createSingleton2[2],getParameters=_createSingleton2[3],onParametersChange=_createSingleton2[4]},56:function(module,__webpack_exports__,__webpack_require__){"use strict";const logger=__webpack_require__(21).b.annotate("config");__webpack_exports__.a=logger},57:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={silly:5,verbose:5,debug:4,info:3,warn:2,error:1}},59:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),deepmerge__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(160),deepmerge__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(deepmerge__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__.a=initValue=>{let updaters=[],changers=[],initialValue=initValue;const setData=newValue=>{initialValue="function"==typeof newValue?newValue(initialValue):newValue,updaters.forEach(cb=>cb(initialValue)),changers.forEach(cb=>cb(initialValue))};return[()=>{"function"==typeof initialValue&&(initialValue=initialValue());const _react$useState=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(initialValue),_react$useState2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_react$useState,2),value=_react$useState2[0],update=_react$useState2[1];return react__WEBPACK_IMPORTED_MODULE_1___default.a.useLayoutEffect(()=>(updaters.push(update),()=>(updaters=updaters.filter(el=>el!==update),updaters)),[]),value},setData,updateValue=>{"function"==typeof initialValue&&(initialValue=initialValue()),setData(deepmerge__WEBPACK_IMPORTED_MODULE_2___default()(initialValue,updateValue))},()=>("function"==typeof initialValue&&(initialValue=initialValue()),initialValue),cb=>(changers.push(cb),()=>(changers=changers.filter(el=>el!==cb),changers))]}},60:function(module,__webpack_exports__,__webpack_require__){"use strict";var _grab_be_common_util_deepMerge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(63),_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_grab_be_config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20),_logger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(30),_twitchExt__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24),_pubSub__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(90);const logger=_logger__WEBPACK_IMPORTED_MODULE_4__.a.annotate("configuration"),updatedConfig={},configMergeOrder=[_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.GLOBAL,_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.BROADCASTER,_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.DEVELOPER];_pubSub__WEBPACK_IMPORTED_MODULE_6__.a.on(_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.a.UPDATE_TWITCH_CONFIGURATION,(event,_ref)=>{let type=_ref.type,config=_ref.config;updatedConfig[type]=JSON.stringify(config)});let throttleTimeout,throttledSetConfig;const CACHE_CFG_KEY=_grab_be_config__WEBPACK_IMPORTED_MODULE_2__.a.KEY+"-tmp-saveConfig",configuration={cacheConfig:()=>{try{const cache={cachedAt:(new Date).getTime()};configMergeOrder.forEach(type=>{cache[type]=configuration.getConfig(type)}),sessionStorage.setItem(CACHE_CFG_KEY,JSON.stringify(cache)),logger.debug("caching")}catch(e){logger.silly("Could not cache config:",e)}},restoreCache:()=>{try{let saveCfg=sessionStorage.getItem(CACHE_CFG_KEY);saveCfg&&(sessionStorage.removeItem(CACHE_CFG_KEY),saveCfg=JSON.parse(saveCfg),saveCfg.cachedAt>(new Date).getTime()-5e3&&(logger.debug("restoring cache"),configMergeOrder.forEach(type=>{updatedConfig[type]=JSON.stringify(saveCfg[type])})))}catch(e){logger.silly("Could not restore cache config:",e)}},setConfig:function(newConfigValue){let configType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.BROADCASTER;if(configType===_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.BROADCASTER){if(throttleTimeout)return throttledSetConfig&&clearTimeout(throttledSetConfig),void(throttledSetConfig=setTimeout(()=>{throttledSetConfig=null,configuration.setConfig(newConfigValue,configType)},500));logger.annotate(configType).debug("Set",newConfigValue),_twitchExt__WEBPACK_IMPORTED_MODULE_5__.a.configuration.set(configType,(new Date).toISOString(),JSON.stringify(newConfigValue)),_pubSub__WEBPACK_IMPORTED_MODULE_6__.a.send(_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.a.UPDATE_TWITCH_CONFIGURATION,{type:configType,config:newConfigValue}),throttleTimeout=setTimeout(()=>{throttleTimeout=null},1e3)}else logger.warn("Cannot set",configType,"from client")},updateConfig:function(newConfigValue){let configType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.BROADCASTER;configuration.setConfig(Object(_grab_be_common_util_deepMerge__WEBPACK_IMPORTED_MODULE_0__.a)(configuration.getConfig(configType),newConfigValue),configType)},setConfigKey:function(key,value){let configType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.BROADCASTER;configuration.updateConfig(_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_1__.a.set({},key,value),configType)},getConfig:function(){let configType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.BROADCASTER;if(configType===_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_3__.e.DEVELOPER)return{};try{var _twitchExt$configurat;return JSON.parse(updatedConfig[configType]||(null===(_twitchExt$configurat=_twitchExt__WEBPACK_IMPORTED_MODULE_5__.a.configuration[configType])||void 0===_twitchExt$configurat?void 0:_twitchExt$configurat.content)||"{}")}catch(e){return logger.annotate(configType).error("Error getting",e),{}}},getMergedValue:()=>configMergeOrder.map(configuration.getConfig).reduce((all,cur)=>Object(_grab_be_common_util_deepMerge__WEBPACK_IMPORTED_MODULE_0__.a)(all,cur),{})};__webpack_exports__.a=configuration},61:function(module,__webpack_exports__,__webpack_require__){"use strict";class GrabError extends Error{constructor(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _args$;1===args.length&&"object"==typeof args[0]?super("cause: "+(args[0].message||(null===(_args$=args[0])||void 0===_args$?void 0:_args$.toString())||"Unknown Error"),{cause:args[0]}):super(...args);this.name=this.constructor.name}}var GrabError_GrabError=GrabError;var GrabError_makeErrorClass=function(name){let BaseErrorClass=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GrabError_GrabError;return{[name]:class extends BaseErrorClass{}}[name]};GrabError_GrabError.AuthenticationError=GrabError_makeErrorClass("AuthenticationError"),GrabError_GrabError.TransportError=GrabError_makeErrorClass("TransportError"),GrabError_GrabError.ConfigurationError=GrabError_makeErrorClass("ConfigurationError"),GrabError_GrabError.ParseError=GrabError_makeErrorClass("ParseError"),GrabError_GrabError.TypeError=GrabError_makeErrorClass("TypeError");__webpack_exports__.a=GrabError_GrabError},63:function(module,__webpack_exports__,__webpack_require__){"use strict";function deepMerge(){const newObj={},merge=obj=>{for(const prop in obj)obj.hasOwnProperty(prop)&&("[object Object]"===Object.prototype.toString.call(obj[prop])?newObj[prop]=deepMerge(newObj[prop],obj[prop]):newObj[prop]=obj[prop])};for(let i=0;i<arguments.length;i+=1)merge(i<0||arguments.length<=i?void 0:arguments[i]);return newObj}__webpack_require__.d(__webpack_exports__,"a",(function(){return deepMerge}))},64:function(module,exports,__webpack_require__){module.exports={values:"'../../values.module.css'","base-item-spacing":"0.5em","base-padding":"1em","base-border-size":"0.1em","font-size-larger":"1.25em","font-size-smaller":"0.75em","dark-border-color":"#f6f6f6","dark-border-alt-color":"#333333","dark-inset-background-color":"#18181b","dark-background-color":"#0e0e10","light-border-color":"#151515","light-border-alt-color":"#aaaaaa","light-inset-background-color":"#ffffff","light-background-color":"#f7f7f8",panel:"panel_panel__rqEgN",header:"panel_header__3RD7G",clickable:"panel_clickable__3FZ9x",footer:"panel_footer__2Mpal"}},68:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return CATEGORIES})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ACTIONS})),__webpack_require__.d(__webpack_exports__,"c",(function(){return setupAnalytics})),__webpack_require__.d(__webpack_exports__,"d",(function(){return trackEvent}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_grab_be_config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_grab_be_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),_twitchExt_authDataHook__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(47),_twitchExt_parametersHook__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(53),_twitchExt_twitchExt__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24);const logger=_grab_be_logger__WEBPACK_IMPORTED_MODULE_2__.b.annotate("analytics"),GA_LOCALSTORAGE_KEY=`${_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.PROJECT||"default"}:${_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.CONTEXT||"default"}:ga:clientId`;let isLocalStorageAvailable;try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),isLocalStorageAvailable=!0}catch(e){isLocalStorageAvailable=!1}const analyticsConfig={ga:!1,twitch:!1},DIMENSIONS_EXTENSION_CHANNEL_ID=1,DIMENSIONS_USER_ROLE=2,DIMENSIONS_EXTENSION_ANCHOR=3,DIMENSIONS_EXTENSION_PLATFORM=4,EXTENSION_PLATFORMS={mobile:"mobile",web:"desktop"},EXTENSION_ANCHORS={panel:"panel",component:"component"},USER_ROLES={viewer:"viewer",moderator:"mod",broadcaster:"broadcaster"},CATEGORIES=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_twitchExt_twitchExt__WEBPACK_IMPORTED_MODULE_5__.a.tracking.Categories),{},{Admin:"admin",Viewer:"viewer",Config:"config",Event:"event"}),ACTIONS=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_twitchExt_twitchExt__WEBPACK_IMPORTED_MODULE_5__.a.tracking.InteractionTypes),{},{Load:"load",Drag:"drag",Scroll:"scroll",Drop:"drop",Hover:"hover",Save:"save"}),setupAnalytics=function(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{googleAnalyticsId:null};const _window=window,ga=_window.ga,_getParameters=Object(_twitchExt_parametersHook__WEBPACK_IMPORTED_MODULE_4__.getParameters)(),anchor=_getParameters.anchor,platform=_getParameters.platform,_getAuth=Object(_twitchExt_authDataHook__WEBPACK_IMPORTED_MODULE_3__.getAuth)(),channelId=_getAuth.channelId,role=_getAuth.role;ga&&options.googleAnalyticsId&&(isLocalStorageAvailable?(ga("create",options.googleAnalyticsId,{storage:"none",clientId:localStorage.getItem(GA_LOCALSTORAGE_KEY)}),ga(tracker=>{localStorage.setItem(GA_LOCALSTORAGE_KEY,tracker.get("clientId"))})):ga("create",options.googleAnalyticsId,"auto"),ga("set","checkStorageTask",null),ga("set","anonymizeIp",!0),ga("set","channelId",channelId),ga("set","project",_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.PROJECT),ga("set","context",_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.CONTEXT),ga("set","dimension"+DIMENSIONS_EXTENSION_CHANNEL_ID,channelId),ga("set","dimension"+DIMENSIONS_USER_ROLE,null==USER_ROLES?void 0:USER_ROLES[role]),ga("set","dimension"+DIMENSIONS_EXTENSION_ANCHOR,null==EXTENSION_ANCHORS?void 0:EXTENSION_ANCHORS[anchor]),ga("set","dimension"+DIMENSIONS_EXTENSION_PLATFORM,null==EXTENSION_PLATFORMS?void 0:EXTENSION_PLATFORMS[platform]),analyticsConfig.ga=options.googleAnalyticsId,logger.debug("Track pageview"),ga("send","pageview"),Object(_twitchExt_authDataHook__WEBPACK_IMPORTED_MODULE_3__.onAuthChange)(newAuth=>{ga("set","dimension"+DIMENSIONS_EXTENSION_CHANNEL_ID,null==newAuth?void 0:newAuth.channelId),ga("set","dimension"+DIMENSIONS_USER_ROLE,null==USER_ROLES?void 0:USER_ROLES[null==newAuth?void 0:newAuth.role])}))},trackEvent=function(category,action,label){let value=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(analyticsConfig.ga){const ga=window.ga;ga&&category&&action&&label&&ga("send","event",category,action,label,null!=value?value:1)}}},69:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getConfigValueByPath}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_grab_be_config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),__webpack_require__(20)),_twitchExt_configuration__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60),_twitchExt_pubSub__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(90),_createSingleton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(59);const _createSingleton=Object(_createSingleton__WEBPACK_IMPORTED_MODULE_7__.a)(0),_createSingleton2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_createSingleton,2),useConfigUpdated=_createSingleton2[0],setConfigUpdated=_createSingleton2[1];_twitchExt_pubSub__WEBPACK_IMPORTED_MODULE_6__.a.on(_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.a.UPDATE_TWITCH_CONFIGURATION,()=>setConfigUpdated((new Date).getTime()));const getConfigValueByPath=function(){let configPath=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";const twitchConfig=_twitchExt_configuration__WEBPACK_IMPORTED_MODULE_5__.a.getMergedValue(),allConfig=_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.get();return"*"!==configPath?_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_2__.a.has(allConfig,configPath)&&_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_2__.a.has(twitchConfig,configPath)?_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_2__.a.get(twitchConfig,configPath):_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.get(configPath):(Object.keys(_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.list()).sort((a,b)=>(a.match(/\./g)||[]).length-(b.match(/\./g)||[]).length).forEach(cfgPath=>{_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_2__.a.has(twitchConfig,cfgPath)&&_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_2__.a.set(allConfig,cfgPath,_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_2__.a.get(twitchConfig,cfgPath))}),allConfig)};__webpack_exports__.a=function(){let configPath=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";const lastRefresh=useConfigUpdated(),value=Object(react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>getConfigValueByPath(configPath),[configPath,lastRefresh]),updateValue=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(newValue=>{_twitchExt_configuration__WEBPACK_IMPORTED_MODULE_5__.a.setConfigKey(configPath,newValue)},[configPath]);return[value,updateValue]}},77:function(module,exports,__webpack_require__){module.exports={values:"'../../values.module.css'","base-padding":"1em","base-border-size":"0.1em",ultravioletColor:"#9146FF",whiteColor:"#f7f7f8",twitchPurple11Color:"#BF94FF",highlightPurpleColor:"#AA70FF","disabled-opacity":"0.5",button:"button_button__bOV1D",inline:"button_inline__27OQ5",outline:"button_outline__169ra",fluid:"button_fluid__3RgCN",uppercase:"button_uppercase__10Oik"}},79:function(module,__webpack_exports__,__webpack_require__){"use strict";function getAbbreviatedNumber(number){if(number>=1e3){const units=["k","M","B","T"],unit=3*Math.floor((number.toFixed(0).length-1)/3);return(number/("1e"+unit)).toFixed(1)+units[Math.floor(unit/3)-1]}return number}__webpack_require__.d(__webpack_exports__,"a",(function(){return getAbbreviatedNumber})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getClassNameFromArray.a}));var getClassNameFromArray=__webpack_require__(42);__webpack_require__(113)},86:function(module,__webpack_exports__,__webpack_require__){"use strict";var _bigInt_json__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(139);__webpack_exports__.a={stringify:function(value){let replacer=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,spacer=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return replacer=replacer||((k,v)=>v),JSON.stringify(value,(k,v)=>replacer(k,_bigInt_json__WEBPACK_IMPORTED_MODULE_0__.a.replacer(k,v)),spacer)},parse:function(value){let reviver=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return reviver=reviver||((k,v)=>v),JSON.parse(value,(k,v)=>reviver(k,_bigInt_json__WEBPACK_IMPORTED_MODULE_0__.a.reviver(k,v)))}}},87:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BIGINT_IDENTIFIER}));const BIGINT_IDENTIFIER="BigInt:",conversion={isBigInt:value=>"bigint"==typeof value,isBigIntArray:value=>Array.isArray(value)&&value[0]===BIGINT_IDENTIFIER,bigIntToArray:value=>{let curVal=value;const chunks=[];for(;0n!==curVal;){const chunk=curVal%BigInt(1e15);chunks.push(Number(chunk)),curVal/=BigInt(1e15)}return[BIGINT_IDENTIFIER,...chunks]},bigIntFromArray:value=>BigInt(value.slice(1).reduce((total,toAdd,index)=>total+BigInt(toAdd||0)*BigInt(1e15)**BigInt(index),0n))};__webpack_exports__.b=conversion},9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return initConfig}));var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_grab_be_common_util_clone__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(154),_grab_be_common_util_deepMerge__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63),_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(27),_$projectConfig_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(92),_$projectConfig_json__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_$projectConfig_json__WEBPACK_IMPORTED_MODULE_6__),_logger__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(56);const keyRegistry={},currentConfig={};let isInited=!1;const onInitFcns=[],config={PROJECT:_$projectConfig_json__WEBPACK_IMPORTED_MODULE_6___default.a.$project||"twitter",CONTEXT:_$projectConfig_json__WEBPACK_IMPORTED_MODULE_6___default.a.$context||"prod",ENVIRONMENT:"production",KEY:`${_$projectConfig_json__WEBPACK_IMPORTED_MODULE_6___default.a.$project||"twitter"}:${_$projectConfig_json__WEBPACK_IMPORTED_MODULE_6___default.a.$context||"prod"}:production`,register:function(key){let defaultValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return isInited?(_logger__WEBPACK_IMPORTED_MODULE_7__.a.error("Attempt to register a key after init:",key),!1):(keyRegistry[key]?_logger__WEBPACK_IMPORTED_MODULE_7__.a.silly("Registering duplicate key:",key):(_logger__WEBPACK_IMPORTED_MODULE_7__.a.silly("Registering key:",key,defaultValue),keyRegistry[key]=defaultValue),!0)},onInit:fcn=>{isInited?setTimeout(fcn):onInitFcns.push(fcn)},isInitialized:()=>isInited,get:function(){let key=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(isInited){if("*"===key||_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_5__.a.has(currentConfig,key))return Object(_grab_be_common_util_clone__WEBPACK_IMPORTED_MODULE_3__.a)("*"===key?currentConfig:_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_5__.a.get(currentConfig,key));_logger__WEBPACK_IMPORTED_MODULE_7__.a.error("Key not registered:",key)}else{const error=new Error("config Key accessed before init: "+key);_logger__WEBPACK_IMPORTED_MODULE_7__.a.error(error)}},list:()=>{const rtnVal={};return Object.keys(keyRegistry).forEach(k=>{rtnVal[k]=config.get(k)}),rtnVal},keys:()=>Object.keys(keyRegistry)},initConfig=(_ref=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee2(){var configServices,configInit,computedValues,_args2=arguments;return _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(configServices=_args2.length>0&&void 0!==_args2[0]?_args2[0]:[],configInit=_args2.length>1&&void 0!==_args2[1]?_args2[1]:{},!isInited){_context2.next=5;break}return _logger__WEBPACK_IMPORTED_MODULE_7__.a.warn("Already initialized"),_context2.abrupt("return");case 5:return Object.keys(configInit).forEach(k=>{keyRegistry[k]?keyRegistry[k]=configInit[k]:config.register(k,configInit[k])}),_context2.next=9,configServices.reduce(function(){var _ref2=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(soFar,cfgService){var registeredValues,serviceValues;return _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,soFar;case 2:return registeredValues=_context.sent,_context.next=5,cfgService.getConfigValues(keyRegistry,registeredValues);case 5:return serviceValues=_context.sent,_context.abrupt("return",Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},registeredValues),serviceValues));case 7:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref2.apply(this,arguments)}}(),Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},keyRegistry));case 9:computedValues=_context2.sent,Object.keys(computedValues).sort((a,b)=>(a.match(/\./g)||[]).length-(b.match(/\./g)||[]).length).forEach(key=>{_grab_be_common_util_objectPath__WEBPACK_IMPORTED_MODULE_5__.a.set(currentConfig,key,computedValues[key])}),currentConfig.project=Object(_grab_be_common_util_deepMerge__WEBPACK_IMPORTED_MODULE_4__.a)(currentConfig.project||{},keyRegistry.project),isInited=!0,setTimeout(()=>{for(;onInitFcns.length>0;)onInitFcns.shift()()});case 14:case"end":return _context2.stop()}}),_callee2)}))),function(){return _ref.apply(this,arguments)});var _ref;config.register("project",{id:config.PROJECT,context:config.CONTEXT,environment:config.ENVIRONMENT,key:config.KEY}),__webpack_exports__.a=config},90:function(module,__webpack_exports__,__webpack_require__){"use strict";var _grab_be_common_string_ucFirst__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98),_grab_be_config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_grab_be_schemas_src_httpDirectives_httpLzString__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(111),_grab_be_schemas_src_httpDirectives_httpCrunch__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(112),_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),_twitchExt__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24),_logger__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(30);const APP_CONTEXT=`${_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.PROJECT}${_grab_be_config__WEBPACK_IMPORTED_MODULE_1__.a.CONTEXT}`,eventLogger=(messageType,event)=>_logger__WEBPACK_IMPORTED_MODULE_6__.a.annotate(messageType).annotate("on"+Object(_grab_be_common_string_ucFirst__WEBPACK_IMPORTED_MODULE_0__.a)(event)),listeners={},getTwitchListener=messageType=>{const listenerLogger=_logger__WEBPACK_IMPORTED_MODULE_6__.a.annotate(messageType);return(receivedTarget,contentType,message)=>{if("application/json"===contentType)try{var _parsedMessage$event,_parsedMessage$data,_parsedMessage$contex;let parsedMessage=JSON.parse(message);if(parsedMessage={event:null!==(_parsedMessage$event=parsedMessage.event)&&void 0!==_parsedMessage$event?_parsedMessage$event:parsedMessage.e,data:null!==(_parsedMessage$data=parsedMessage.data)&&void 0!==_parsedMessage$data?_parsedMessage$data:parsedMessage.d,context:null!==(_parsedMessage$contex=parsedMessage.context)&&void 0!==_parsedMessage$contex?_parsedMessage$contex:parsedMessage.c},!parsedMessage.context||parsedMessage.context===APP_CONTEXT){var _listeners$messageTyp,_parsedMessage$data2;if("string"==typeof parsedMessage.data&&0===parsedMessage.data.indexOf(":C=")){const data=parsedMessage.data.substr(3);try{parsedMessage.data=_grab_be_schemas_src_httpDirectives_httpCrunch__WEBPACK_IMPORTED_MODULE_3__.a.clientResolver({},_grab_be_schemas_src_httpDirectives_httpLzString__WEBPACK_IMPORTED_MODULE_2__.a.clientResolver({},data))}catch(e){listenerLogger.error("Error decompressing message data")}}if(null===(_listeners$messageTyp=listeners[messageType])||void 0===_listeners$messageTyp?void 0:_listeners$messageTyp[parsedMessage.event])eventLogger(messageType,parsedMessage.event).silly("fired",null!==(_parsedMessage$data2=parsedMessage.data)&&void 0!==_parsedMessage$data2?_parsedMessage$data2:null),listeners[messageType][parsedMessage.event].forEach(listenerCallback=>{try{var _parsedMessage$data3;listenerCallback(parsedMessage.event,null!==(_parsedMessage$data3=parsedMessage.data)&&void 0!==_parsedMessage$data3?_parsedMessage$data3:null)}catch(e){listenerLogger.error("error with listener",listenerCallback)}})}}catch(e){listenerLogger.error("Cant parse message",message,e)}}},pubSub={send:function(event){let data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},messageType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.BROADCAST,userId=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return eventLogger(messageType,event).silly("send",data),_twitchExt__WEBPACK_IMPORTED_MODULE_5__.a.send(messageType===_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.WHISPER?`${messageType}-${userId}`:messageType,"application/json",JSON.stringify({e:event,c:APP_CONTEXT,d:data})),!0},_send:(target,data)=>(_twitchExt__WEBPACK_IMPORTED_MODULE_5__.a.send(target,"application/json",JSON.stringify(data)),!0),on:function(event,callback){let messageType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.BROADCAST,userId=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return messageType===_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.WHISPER&&(messageType=`${messageType}-${userId}`),listeners[messageType]||(listeners[messageType]={},_twitchExt__WEBPACK_IMPORTED_MODULE_5__.a.listen(messageType,getTwitchListener(messageType)),_logger__WEBPACK_IMPORTED_MODULE_6__.a.annotate(messageType).silly("listener",messageType,"attached to twitch")),listeners[messageType][event]||(listeners[messageType][event]=[]),listeners[messageType][event].push(callback),eventLogger(messageType,event).silly("listener added"),()=>{listeners[messageType][event]=listeners[messageType][event].filter(l=>l!==callback),eventLogger(messageType,event).silly("listener removed")}},once:function(event,callback){let messageType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.BROADCAST,userId=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;const remove=pubSub.on(event,(function(){callback(...arguments),remove()}),messageType,userId);return remove},onBroadcast:(event,callback)=>pubSub.on(event,callback,_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.BROADCAST),onGlobal:(event,callback)=>pubSub.on(event,callback,_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.GLOBAL),onWhisper:(event,callback,userId)=>pubSub.on(event,callback,_grab_be_common_CONSTANTS_TWITCH__WEBPACK_IMPORTED_MODULE_4__.f.WHISPER,userId)};__webpack_exports__.a=pubSub},92:function(module,exports){module.exports={$project:"twitter",$context:"prod"}},93:function(module,exports,__webpack_require__){module.exports={values:"'../../values.module.css'","base-padding":"1em","base-item-spacing":"0.5em",messageContainer:"message_messageContainer__dJu4b",message:"message_message__1ys7w",icon:"message_icon__2uU0d",buttons:"message_buttons__1ux_i"}},96:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_view__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),__webpack_require__(37)),_header__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(151);__webpack_require__.d(__webpack_exports__,"b",(function(){return _header__WEBPACK_IMPORTED_MODULE_4__.a}));var _footer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(156);__webpack_require__.d(__webpack_exports__,"a",(function(){return _footer__WEBPACK_IMPORTED_MODULE_5__.a}));var _utils_getClassNameFromArray__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(42),_index_module_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64),_index_module_css__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_index_module_css__WEBPACK_IMPORTED_MODULE_7__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8);__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);__webpack_exports__.c=props=>{const className=props.className,passProps=Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(props,["className"]),classNames=Object(react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>Object(_utils_getClassNameFromArray__WEBPACK_IMPORTED_MODULE_6__.a)(["panel",_index_module_css__WEBPACK_IMPORTED_MODULE_7___default.a.panel,className]),[className]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_view__WEBPACK_IMPORTED_MODULE_3__.a,Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_gitlab_runner_builds_8Td_hfdX_0_grablabs_grab_twitch_base_extension_yarn_cache_babel_runtime_npm_7_12_1_b069f70b16_979d1c099c_zip_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},passProps),{},{className:classNames}))}},98:function(module,__webpack_exports__,__webpack_require__){"use strict";function ucFirst(){let str=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return str.charAt(0).toUpperCase()+str.slice(1)}__webpack_require__.d(__webpack_exports__,"a",(function(){return ucFirst}))}},[[397,6,7]]]);